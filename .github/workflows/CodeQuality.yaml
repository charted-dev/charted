# üêª‚Äç‚ùÑÔ∏èüì¶ charted-server: Free, open source, and reliable Helm Chart registry made in Kotlin.
# Copyright 2022-2023 Noelware <team@noelware.org>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# This file was generated using a Kotlin DSL.
# If you want to modify the workflow, please change the Kotlin source and regenerate this YAML file.
# Generated with https://github.com/krzema12/github-workflows-kt

name: Code Quality
on:
    workflow_dispatch: {}
    schedule:
        - cron: 0 0 * * *
    push:
        branches:
            - issue/gh-**
            - feat/**
            - main
        paths-ignore:
            - .github/**
            - .vscode/**
            - assets/**
            - .gitignore
            - '**.md'
            - LICENSE
            - renovate.json
jobs:
    codeql:
        name: CodeQL (Java ${{matrix.java-version}} ~ ${{matrix.language}})
        runs-on: ubuntu-latest
        if: ${{false}}
        strategy:
            matrix:
                java-version:
                    - 17
                    - 19
                language:
                    - java
                    - kotlin
        permissions:
            security-events: write
            contents: read
            actions: read
        steps:
            - id: step-0
              name: Checkout
              uses: actions/checkout@v3
            - id: step-1
              name: Setup Java ${{matrix.java-version}}
              uses: actions/setup-java@v3
              with:
                  java-version: ${{matrix.java-version}}
                  distribution: temurin
            - id: step-2
              name: Setup Node.js 19.x
              uses: actions/setup-node@v3
              with:
                  node-version: 19.x
            - id: step-3
              name: Init CodeQL
              uses: github/codeql-action/init@v2
              with:
                  languages: ${{matrix.language}}
            - id: step-4
              name: Autobuild
              uses: github/codeql-action/autobuild@v2
            - id: step-5
              name: Analyze
              uses: github/codeql-action/analyze@v2
    qodana:
        name: Qodana
        runs-on: ubuntu-latest
        steps:
            - id: step-0
              name: Checkout
              uses: actions/checkout@v3
              with:
                  fetch-depth: 0
            - id: step-1
              name: Perform Qodana scan
              uses: JetBrains/qodana-action@v2022.3.4
              with:
                  args: --baseline,qodana.sarif.json,--save-report
            - id: step-2
              name: Upload Sarif Results to GitHub
              uses: github/codeql-action/upload-sarif@v2
              with:
                  sarif_file: ${{runner.temp}}/qodana/results/qodana.sarif.json
