diff --git a/thirdparty/crates/BUILD.openssl-sys-0.9.93.bazel b/thirdparty/crates/BUILD.openssl-sys-0.9.93.bazel
index b3dfcb6..db5b1fa 100644
--- a/thirdparty/crates/BUILD.openssl-sys-0.9.93.bazel
+++ b/thirdparty/crates/BUILD.openssl-sys-0.9.93.bazel
@@ -30,8 +30,15 @@ rust_library(
         ],
     ),
     crate_root = "src/lib.rs",
+    data = select({
+        "//build/settings:nixos": ["@openssl-static//:lib"],
+        "//conditions:default": [],
+    }),
     edition = "2018",
-    rustc_flags = ["--cap-lints=allow"],
+    rustc_flags = select({
+        "//build/settings:nixos": ["--cap-lints=allow", "-Lexternal/openssl-static/lib"],
+        "//conditions:default": ["--cap-lints=allow"],
+    }),
     tags = [
         "cargo-bazel",
         "crate-name=openssl-sys",
@@ -49,6 +56,14 @@ rust_library(
 cargo_build_script(
     name = "openssl-sys_build_script",
     srcs = glob(["**/*.rs"]),
+    build_script_env = select({
+        "//build/settings:nixos": {
+            "OPENSSL_INCLUDE_DIR": "../openssl-static/include",
+            "OPENSSL_LIB_DIR": "../openssl-static/lib",
+            "OPENSSL_STATIC": "1",
+        },
+        "//conditions:default": {},
+    }),
     crate_name = "build_script_main",
     crate_root = "build/main.rs",
     data = glob(
@@ -61,7 +76,10 @@ cargo_build_script(
             "WORKSPACE",
             "WORKSPACE.bazel",
         ],
-    ),
+    ) + select({
+        "//build/settings:nixos": ["@openssl-static//:include", "@openssl-static//:lib"],
+        "//conditions:default": [],
+    }),
     edition = "2018",
     links = "openssl",
     rustc_flags = [
